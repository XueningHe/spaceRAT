---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
    collapse = TRUE,
    comment = "#>",
    fig.path = "man/figures/README-",
    out.width = "100%"
)
```

# spaceRAT

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
<!-- badges: end -->

# spaceRAT <img src="inst/spaceRAT.png" width="200" align="right" />

## Install from GitHub
``` {r, eval = FALSE}
# Install using devtools
# install.packages("devtools")
devtools::install_github("XueningHe/spaceRAT", build_vignettes = TRUE)
```

## View vignettes

``` {r vignettes, eval = FALSE}
browseVignettes(package = "spaceRAT")
```

## Usage

It takes two steps to perform ranked analysis of transcriptome:

1. build a scaffold space
2. project your new samples onto the scaffold. 

Example code will be provided here to illustrate each.
Additional information can be found in the vignettes.

### Build a scaffold space

There are two ways to get a scaffold space.
You can either obtain the prebuilt DMAP or GTEX space, or build a
scaffold space of your own, by passing as arguments a count matrix,
a phenotype table, an a column name of the phenotype table
to function `buildScaffold()`.  
  
To get the prebuilt DMAP space:
```{r} 
library(spaceRAT)

scaffold <- buildScaffold("prebuilt_DMAP")
plotScaffold(scaffold, "Scaffold Plot")
```


### Project new samples


```{r}
# Load count data
data("exprs_ilaria", package="spaceRAT")

# Load custom or prebuilt scaffold
scaffold <- buildScaffold("prebuilt_DMAP")

# Project sample
projectSample(
    space = scaffold,
    sample = exprs_ilaria,
    title = "Samples projected into DMAP scaffold")
```

